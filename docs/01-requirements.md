# noonnu-fonts v2 리뉴얼: 요구사항(Requirements)

## 1) 배포 단위(가장 중요)
- **원칙**: npm 패키지 1개는 “사용자 관점에서 하나의 폰트 패밀리”여야 한다.
- **포함 범위**:
  - 같은 패밀리의 여러 웨이트(100~900)와 스타일(Regular/Italic 등)을 **한 패키지로 묶는 것**을 기본으로 한다.
  - Variable font(축이 있는 폰트)는 축 정보를 보존하고, 가능하면 단일 파일로 제공한다.
- **명명 규칙**:
  - 패키지명은 안정적이고 결정적(deterministic)이어야 하며, 외부 서비스의 임의 라벨에 흔들리지 않아야 한다.

## 2) 소스(디깅) 전략
- 눈누 외의 다양한 소스(제작사 홈페이지, GitHub 릴리즈, 공공기관 배포 페이지 등)에서 폰트를 수집할 수 있어야 한다.
- 소스별로 다음 메타데이터를 최소 보존한다.
  - 출처 URL, 다운로드 URL, 수집 시각, 파일 해시, 라이선스 원문/근거 링크(가능하면)

## 3) 정규화/통합(품질 기준)
- 폰트 파일 내부 메타데이터를 1차 진실로 사용한다.
  - 예: name table(패밀리/서브패밀리/풀네임), OS/2 weight class, Italic 플래그, variable axes 등
- “동일 폰트/동일 패밀리 판정”은 규칙 기반으로 먼저 수행하고,
  - 애매한 케이스에만 LLM을 보조적으로 사용한다(제안/설명 생성).

## 4) 저장소/용량 정책
- git에는 **메타데이터/매니페스트/락파일**만 저장하는 것을 원칙으로 한다.
- 폰트 바이너리는 외부 스토리지(예: 오브젝트 스토리지, 릴리즈 아티팩트 등)에 저장하고,
  - **콘텐츠 해시(예: sha256)** 기반으로 참조한다.
- 빌드/배포 시점에 필요한 바이너리를 fetch하여 패키지를 생성한다.

## 5) 배포/버전 정책
- 버전 증가는 “실제 폰트 파일(해시) 변화”와 “패키지 구성 변화”에 의해 결정되어야 한다.
- 패키지에는 최소한 다음이 포함되어야 한다.
  - `index.css`(또는 동등한 진입 CSS)
  - `fonts/*`(또는 빌드 시 포함되는 방식)
  - `README.md`(출처/라이선스/사용법/변경 내역의 근거)

## 6) 컴플라이언스(라이선스)
- 라이선스 정보가 불명확하거나 재배포 제한이 의심되는 경우:
  - 자동 배포를 중단하고 “검토 필요”로 분류한다.
- README에는 출처 링크와 라이선스 근거를 명시한다.
